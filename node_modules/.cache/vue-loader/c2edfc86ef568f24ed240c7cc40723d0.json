{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/vue-nepali-calender/src/Calender.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/vue-nepali-calender/src/Calender.vue","mtime":1610872356834},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7RGF0ZUNvbnZlcnNpb259IGZyb20gIi4vRGF0ZUNvbnZlcnNpb24iOwppbXBvcnQge0RBVEVfUkFOR0V9IGZyb20gJy4vY29uc3RhbnRzL2RhdGUtcmFuZ2UnOwppbXBvcnQge0RBWVN9IGZyb20gJy4vY29uc3RhbnRzL2RheXMnOwoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOnsKICAgICAgYWREYXRlCiAgfSwKICB3YXRjaDogewogICAgYWREYXRlOiBmdW5jdGlvbihkYXRlKSB7CiAgICAgIHRoaXMuYWREYXRlID0gZGF0ZTsKICAgICAgdGhpcy5jdXJyZW50QlNEYXRlID0gdGhpcy5kYXRlQ29udmVyc2lvbi5nZXRCc0RhdGVCeUFkRGF0ZSh0aGlzLmN1cnJlbnRBRERhdGUuZ2V0RnVsbFllYXIoKSwgdGhpcy5jdXJyZW50QUREYXRlLmdldE1vbnRoKCkgKyAxLCB0aGlzLmN1cnJlbnRBRERhdGUuZ2V0RGF0ZSgpKTsKICAgICAgdGhpcy5jcmVhdGVDYWxlbmRlcigpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuY3VycmVudEJTRGF0ZSA9IHRoaXMuZGF0ZUNvbnZlcnNpb24uZ2V0QnNEYXRlQnlBZERhdGUodGhpcy5jdXJyZW50QUREYXRlLmdldEZ1bGxZZWFyKCksIHRoaXMuY3VycmVudEFERGF0ZS5nZXRNb250aCgpICsgMSwgdGhpcy5jdXJyZW50QUREYXRlLmdldERhdGUoKSk7CiAgICB0aGlzLmJzWWVhcnMgPSBBcnJheS5mcm9tKEFycmF5KERBVEVfUkFOR0UubWF4RGF0ZSAtIERBVEVfUkFOR0UubWluRGF0ZSkua2V5cygpKS5tYXAoZSA9PiBlICsgMSArIERBVEVfUkFOR0UubWluRGF0ZSk7CiAgICB0aGlzLmNyZWF0ZUNhbGVuZGVyKCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgY2hhbmdlTW9udGg6IGZ1bmN0aW9uIChmYWN0b3IpewogICAgICBjb25zdCBtb250aCA9IHRoaXMuY3VycmVudEJTRGF0ZS5ic01vbnRoK2ZhY3RvcjsKICAgICAgaWYobW9udGg+MTIpewogICAgICAgIHRoaXMuY3VycmVudEJTRGF0ZS5ic01vbnRoID0gMTsKICAgICAgICB0aGlzLmN1cnJlbnRCU0RhdGUuYnNZZWFyKz0gMTsKCiAgICAgIH1lbHNlIGlmKG1vbnRoPDEpewogICAgICAgIHRoaXMuY3VycmVudEJTRGF0ZS5ic01vbnRoID0gMTI7CiAgICAgICAgdGhpcy5jdXJyZW50QlNEYXRlLmJzWWVhci09IDE7CiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuY3VycmVudEJTRGF0ZS5ic01vbnRoID0gbW9udGg7CiAgICAgIH0KICAgICAgdGhpcy5jcmVhdGVDYWxlbmRlcigpOwogICAgfSwKICAgIGNoYW5nZURhdGU6IGZ1bmN0aW9uICgpewogICAgICB0aGlzLmNyZWF0ZUNhbGVuZGVyKCk7CiAgICB9LAogICAgc2VsZWN0RGF0ZTogZnVuY3Rpb24gKGRheSl7CiAgICAgIHRoaXMuY3VycmVudEJTRGF0ZS5ic0RhdGUgPSBkYXk7CiAgICAgIHRoaXMuY3VycmVudEFERGF0ZSA9IHRoaXMuZ2V0QWREYXRlQnlCc0RhdGUodGhpcy5jdXJyZW50QlNEYXRlLmJzWWVhcix0aGlzLmN1cnJlbnRCU0RhdGUuYnNNb250aCsxLHRoaXMuY3VycmVudEJTRGF0ZS5ic0RhdGUpOwogICAgfSwKICAgIGNyZWF0ZUNhbGVuZGVyKCl7CiAgICAgIHRoaXMubW9udGhEYXlzQXJyYXkgPVtdOwogICAgICBjb25zdCBtYXhNb250aERheXMgPSB0aGlzLmRhdGVDb252ZXJzaW9uLmdldEJzTW9udGhEYXlzKHRoaXMuY3VycmVudEJTRGF0ZS5ic1llYXIsIHRoaXMuY3VycmVudEJTRGF0ZS5ic01vbnRoKTsKICAgICAgY29uc3QgYWREYXRlID0gdGhpcy5kYXRlQ29udmVyc2lvbi5nZXRBZERhdGVCeUJzRGF0ZSh0aGlzLmN1cnJlbnRCU0RhdGUuYnNZZWFyLCB0aGlzLmN1cnJlbnRCU0RhdGUuYnNNb250aCwgMSk7CiAgICAgIGNvbnN0IHNraXBEYXlzID0gYWREYXRlLmdldERheSgpOwogICAgICBjb25zdCBtb250aFN0YXJ0SW5kZXggPSAtc2tpcERheXMgKyAxOwogICAgICBjb25zdCBtYXhNb250aERheXNJbmRleCA9IDQyOwoKICAgICAgbGV0IHdlZWtEYXlzQXJyYXkgPSBbXTsKICAgICAgbGV0IGNvdW50ID0gMTsKICAgICAgZm9yIChsZXQgaSA9IG1vbnRoU3RhcnRJbmRleDsgaSA8PSBtYXhNb250aERheXNJbmRleDsgaSsrKSB7CiAgICAgICAgaWYgKGkgPCAxIHx8IGkgPiBtYXhNb250aERheXMpIHsKICAgICAgICAgIHdlZWtEYXlzQXJyYXkucHVzaCgnJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHdlZWtEYXlzQXJyYXkucHVzaChpKTsKICAgICAgICB9CiAgICAgICAgaWYgKGNvdW50ICUgNyA9PSAwKSB7CiAgICAgICAgICB0aGlzLm1vbnRoRGF5c0FycmF5LnB1c2god2Vla0RheXNBcnJheSk7CiAgICAgICAgICB3ZWVrRGF5c0FycmF5ID0gW107CiAgICAgICAgfQogICAgICAgIGNvdW50Kys7CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRlQ29udmVyc2lvbjogbmV3IERhdGVDb252ZXJzaW9uKCksCiAgICAgIGN1cnJlbnRBRERhdGU6IHRoaXMuYWREYXRlID8gdGhpcy5hZERhdGUgOiBuZXcgRGF0ZSgpLAogICAgICBjdXJyZW50QlNEYXRlOiB7CiAgICAgICAgYnNZZWFyOiAwLAogICAgICAgIGJzTW9udGg6IDAsCiAgICAgICAgYnNEYXRlOiAwCiAgICAgIH0sCiAgICAgIGRhdGVSYW5nZTogREFURV9SQU5HRSwKICAgICAgYnNZZWFyczogW10sCiAgICAgIGJzTW9udGhzOiBbMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExXSwKICAgICAgbmVwYWxpRGF5czogREFZUywKICAgICAgbW9udGhEYXlzQXJyYXk6IFtdCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Calender.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Calender.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div class=\"calender-interface\">\n    <div class=\"info-container\">\n      <ul>\n        <li class=\"text-left nextprev\">\n          <button @click=\"changeMonth(-1)\">&lt;</button>\n        </li>\n        <li class=\"text-center\">\n          <div class=\"date-info\">\n            <select id=\"bsYear\" name=\"bsYear\" v-model=\"currentBSDate.bsYear\" @change=\"changeDate\">\n              <option v-for=\"i in bsYears\" :key=\"i\" :value=\"i\">\n                {{ dateConversion.getNepaliNumber(i) }}\n              </option>\n            </select>\n            <select name=\"bsMonth\" id=\"bsMonth\" v-model=\"currentBSDate.bsMonth\" @change=\"changeDate\">\n              <option v-for=\"i in bsMonths\" :key=\"i\" :value=\"i+1\">\n                {{ dateConversion.getNepaliMonthName(i) }}\n              </option>\n            </select>\n          </div>\n        </li>\n        <li class=\"text-right nextprev\">\n          <button @click=\"changeMonth(1)\">&gt;</button>\n        </li>\n      </ul>\n    </div>\n    <div class=\"caleder-dates\">\n      <table class=\"calender-table\">\n        <thead>\n        <tr>\n          <th v-for=\"(day,index) in nepaliDays\" :key=\"index\">{{ day }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr v-for=\"(week,index) in monthDaysArray\" :key=\"index\">\n          <td v-for=\"(day,j) in week\" :key=\"j\" v-bind:class=\"{active: day==currentBSDate.bsDate}\">\n            <a class=\"date-link\" @click=\"selectDate(day)\">\n              {{ dateConversion.getNepaliNumber(day) }}\n            </a>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n<script>\nimport {DateConversion} from \"./DateConversion\";\nimport {DATE_RANGE} from './constants/date-range';\nimport {DAYS} from './constants/days';\n\nexport default {\n  props:{\n      adDate\n  },\n  watch: {\n    adDate: function(date) {\n      this.adDate = date;\n      this.currentBSDate = this.dateConversion.getBsDateByAdDate(this.currentADDate.getFullYear(), this.currentADDate.getMonth() + 1, this.currentADDate.getDate());\n      this.createCalender();\n    }\n  },\n  mounted() {\n    this.currentBSDate = this.dateConversion.getBsDateByAdDate(this.currentADDate.getFullYear(), this.currentADDate.getMonth() + 1, this.currentADDate.getDate());\n    this.bsYears = Array.from(Array(DATE_RANGE.maxDate - DATE_RANGE.minDate).keys()).map(e => e + 1 + DATE_RANGE.minDate);\n    this.createCalender();\n  },\n\n  methods: {\n    changeMonth: function (factor){\n      const month = this.currentBSDate.bsMonth+factor;\n      if(month>12){\n        this.currentBSDate.bsMonth = 1;\n        this.currentBSDate.bsYear+= 1;\n\n      }else if(month<1){\n        this.currentBSDate.bsMonth = 12;\n        this.currentBSDate.bsYear-= 1;\n      }else{\n        this.currentBSDate.bsMonth = month;\n      }\n      this.createCalender();\n    },\n    changeDate: function (){\n      this.createCalender();\n    },\n    selectDate: function (day){\n      this.currentBSDate.bsDate = day;\n      this.currentADDate = this.getAdDateByBsDate(this.currentBSDate.bsYear,this.currentBSDate.bsMonth+1,this.currentBSDate.bsDate);\n    },\n    createCalender(){\n      this.monthDaysArray =[];\n      const maxMonthDays = this.dateConversion.getBsMonthDays(this.currentBSDate.bsYear, this.currentBSDate.bsMonth);\n      const adDate = this.dateConversion.getAdDateByBsDate(this.currentBSDate.bsYear, this.currentBSDate.bsMonth, 1);\n      const skipDays = adDate.getDay();\n      const monthStartIndex = -skipDays + 1;\n      const maxMonthDaysIndex = 42;\n\n      let weekDaysArray = [];\n      let count = 1;\n      for (let i = monthStartIndex; i <= maxMonthDaysIndex; i++) {\n        if (i < 1 || i > maxMonthDays) {\n          weekDaysArray.push('');\n        } else {\n          weekDaysArray.push(i);\n        }\n        if (count % 7 == 0) {\n          this.monthDaysArray.push(weekDaysArray);\n          weekDaysArray = [];\n        }\n        count++;\n      }\n    }\n  },\n  data() {\n    return {\n      dateConversion: new DateConversion(),\n      currentADDate: this.adDate ? this.adDate : new Date(),\n      currentBSDate: {\n        bsYear: 0,\n        bsMonth: 0,\n        bsDate: 0\n      },\n      dateRange: DATE_RANGE,\n      bsYears: [],\n      bsMonths: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],\n      nepaliDays: DAYS,\n      monthDaysArray: []\n    }\n  }\n}\n</script>\n<style scoped>\n.calender-table thead th {\n  padding: 10px;\n  background: #000;\n  color: #fff;\n}\n\n.calender-table tbody td {\n  padding: 10px;\n  background: #000;\n  text-align: center;\n\n}\n\n.calender-table tbody td a {\n  display: block;\n  color: #fff;\n  text-decoration: none;\n  text-align: center;\n}\n\n.calender-table tbody td.active {\n  background: red;\n}\n\n.calender-interface {\n  padding: 10px;\n  border: 1px solid #ccc;\n  display: inline-block;\n  background: #000;\n}\n\n.info-container {\n  color: #fff;\n  padding: 10px;\n}\n\n.info-container ul {\n  list-style: none;\n  width: 100%;\n  list-style: none;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n}\n\n.info-container ul li {\n  display: block;\n  float: left;\n  width: 70%;\n}\n\n.info-container ul li.nextprev {\n  width: 15%;\n}\n\n.text-right {\n  text-align: right;\n}\n\n.text-left {\n  text-align: left;\n}\n\n.text-center {\n  text-align: center;\n}\n\n.date-info select {\n  display: inline-block;\n  margin-right: 10px;\n  padding: 4px 8px;\n  border-radius: 3px;\n  outline: none !important;\n}\n</style>"]}]}